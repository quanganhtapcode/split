<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chia Ti·ªÅn - Bill Splitter</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="description" content="·ª®ng d·ª•ng chia ti·ªÅn th√¥ng minh, t√≠nh to√°n ch√≠nh x√°c chi ph√≠ chung cho t·ª´ng ng∆∞·ªùi">
</head>
<body>
    <div class="app">
        <header class="header">
            <h1 class="header__title">
                <span class="header__icon">üí∞</span>
                Chia Ti·ªÅn
            </h1>

        </header>

        <main class="main">
            <div class="container">
                <!-- People Input Section -->
                <section class="section">
                    <div class="section__header">
                        <h2 class="section__title">üë• Danh s√°ch ng∆∞·ªùi tham gia</h2>
                        <button id="clearAllBtn" class="btn btn--secondary btn--sm btn--icon" title="X√≥a t·∫•t c·∫£ d·ªØ li·ªáu">
                            <span class="btn__icon">üóëÔ∏è</span>
                            X√≥a t·∫•t c·∫£
                        </button>
                    </div>
                    <p class="section__description">Nh·∫≠p t√™n t·ª´ng ng∆∞·ªùi, m·ªói ng∆∞·ªùi m·ªôt d√≤ng</p>
                    <div class="form-group">
                        <textarea 
                            id="peopleNames" 
                            class="textarea" 
                            rows="4" 
                        ></textarea>
                        <div class="people-count">
                            <span id="peopleCount">0</span> ng∆∞·ªùi
                        </div>
                    </div>
                </section>

                <!-- Items Section -->
                <section class="section">
                    <div class="section__header">
                        <h2 class="section__title">üìù Chi ph√≠</h2>
                        <button id="addItemBtn" class="btn btn--primary btn--sm btn--icon">
                            <span class="btn__icon">+</span>
                            Th√™m kho·∫£n
                        </button>
                    </div>
                    
                    <div class="items-container">
                        <div id="itemsList" class="items-list"></div>
                        <div class="empty-state" id="emptyState">
                            <div class="empty-state__icon">üí∏</div>
                            <p class="empty-state__text">Ch∆∞a c√≥ kho·∫£n chi n√†o. H√£y th√™m kho·∫£n ƒë·∫ßu ti√™n!</p>
                        </div>
                    </div>
                </section>

                <!-- Results Section -->
                <section class="section section--results">
                    <div class="section__header">
                        <h2 class="section__title">üí∞ K·∫øt qu·∫£ t√≠nh to√°n</h2>
                    </div>
                    
                    <div class="results">
                        <div class="total-amount">
                            <span class="total-amount__label">T·ªïng ti·ªÅn:</span>
                            <span id="totalAmount" class="total-amount__value">0‚Ç´</span>
                        </div>
                        
                        <div id="resultsList" class="results-list"></div>
                          
                        <div class="empty-results" id="emptyResults">
                            <p>K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã khi b·∫°n th√™m ng∆∞·ªùi v√† chi ph√≠</p>
                            <p class="helper-text">üí° Ng∆∞·ªùi "S·∫Ω nh·∫≠n" s·∫Ω c√≥ n√∫t t·∫°o QR ƒë·ªÉ nh·∫≠n ti·ªÅn t·ª´ nh·ªØng ng∆∞·ªùi "C·∫ßn tr·∫£"</p>
                        </div>
                    </div>
                </section>

                <!-- Payment QR Section -->
                <section class="section section--payment" id="paymentSection" style="display: none;">
                    <div class="section__header">
                        <h2 class="section__title">üì± Thanh to√°n QR</h2>
                        <div class="section__actions">
                            <button id="clearQRBtn" class="btn btn--secondary btn--sm" style="display: none;">
                                X√≥a QR
                            </button>
                            <button id="togglePaymentBtn" class="btn btn--secondary btn--sm">
                                Thi·∫øt l·∫≠p thanh to√°n
                            </button>
                        </div>
                    </div>
                      
                    <div id="paymentForm" class="payment-form" style="display: none;">
                        <p class="section__description">Nh·∫≠p th√¥ng tin t√†i kho·∫£n c·ªßa ng∆∞·ªùi s·∫Ω nh·∫≠n ti·ªÅn (ng∆∞·ªùi ƒë√£ tr·∫£ tr∆∞·ªõc)</p>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="bankSelect" class="label">Ng√¢n h√†ng</label>
                                <select id="bankSelect" class="select">
                                    <option value="">Ch·ªçn ng√¢n h√†ng</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="accountNo" class="label">S·ªë t√†i kho·∫£n</label>
                                <input type="text" id="accountNo" class="input" placeholder="Nh·∫≠p s·ªë t√†i kho·∫£n">
                            </div>
                            <div class="form-group">
                                <label for="accountName" class="label">T√™n t√†i kho·∫£n</label>
                                <input type="text" id="accountName" class="input" placeholder="VD: NGUYEN VAN A">
                            </div>
                        </div>
                    </div>
                    
                    <div id="qrContainer" class="qr-container" style="display: none;">
                        <div class="qr-code">
                            <img id="qrImage" class="qr-code__image" alt="QR Code">
                            <div id="qrLoading" class="qr-loading">
                                <div class="spinner"></div>
                                <p>ƒêang t·∫°o m√£ QR...</p>
                            </div>
                        </div>
                        <div class="qr-info">
                            <p class="qr-info__amount" id="qrAmount"></p>
                            <p class="qr-info__description">Qu√©t m√£ ƒë·ªÉ thanh to√°n</p>
                        </div>
                        <div class="qr-actions">
                            <button id="downloadQR" class="btn btn--secondary btn--sm">T·∫£i v·ªÅ</button>
                            <button id="shareQR" class="btn btn--secondary btn--sm">Chia s·∫ª</button>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <footer class="footer">
            <p class="footer__text">
                Created with ‚ù§Ô∏è by <strong>quanganhdeptrai</strong>
            </p>
        </footer>
    </div>

    <!-- Item Template -->
    <template id="itemTemplate">
        <div class="item-card">
            <div class="item-card__header">
                <input type="text" class="item-name input input--borderless" placeholder="T√™n kho·∫£n chi (VD: Taxi, ƒê·ªì u·ªëng, Karaoke...)">
                <button class="item-card__delete btn btn--danger btn--sm btn--icon" aria-label="X√≥a kho·∫£n">
                    √ó
                </button>
            </div>
            
            <div class="item-card__content">
                <div class="form-group">
                    <label class="label">Gi√° ti·ªÅn (ngh√¨n VNƒê)</label>
                    <input type="number" class="item-price input" placeholder="50 = 50.000ƒë" min="0" step="1">
                </div>
                
                <div class="form-group">
                    <label class="label">Ng∆∞·ªùi d√πng</label>
                    <div class="people-selector" data-type="eaters"></div>
                </div>
                
                <div class="form-group">
                    <label class="label">Ng∆∞·ªùi tr·∫£</label>
                    <div class="people-selector" data-type="payers"></div>
                </div>
            </div>
        </div>
    </template>

    <!-- Result Item Template -->
    <template id="resultTemplate">
        <div class="result-item">
            <div class="result-item__info">
                <h3 class="result-item__name"></h3>
                <p class="result-item__details"></p>
            </div>
            <div class="result-item__amount"></div>
            <button class="result-item__qr btn btn--outline btn--sm" style="display: none;">
                T·∫°o QR
            </button>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>
